<h2>My Rows</h2>
<div>
  <label>Row name:</label> <input #rowName />
  <button (click)="add(rowName.value); rowName.value=''">
    Add new row
  </button>
  <!-- Button trigger modal -->
<button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal">
  Add new row
</button>

<!-- Modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel">Modal title</h4>
      </div>
      <div class="modal-body">
        ...
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>
</div>
<ul class="list-group row"  [dragula]='"bag-one"' [dragulaModel]='rows'>
  <li class="list-group-item title">
    <div class="col-md-1"></div>
    <div class="col-md-1">ID</div>
    <div class="col-md-1">WBSCODE</div>
    <div class="col-md-4">DESCRIPTION</div>
    <div class="col-md-1">P.V.</div>
    <div class="col-md-1">% PRG</div>
    <div class="col-md-1">E.V.</div>
    <div class="col-md-1">A.C.</div>
    <div class="col-md-1">C.V.</div>
  </li>
  <li *ngFor="let row of rows" draggable="true" [class.selected]="row === selectedRow" (click)="onSelect(row)" (change)="recalcTotals(rows)" class="list-group-item {{row.enabled}}">
    <div [ngSwitch]="row.enabled" class="actions col-md-1">
      <template [ngSwitchCase]="true"><input type="button" title="disable row" class="btnDisable" (click)="disable(row)" /></template>
      <template [ngSwitchCase]="false"><input type="button"  title="enable row" class="btnEnable" (click)="enable(row)" /></template>
    </div>
    <div class="element row">
      <div class="col-md-1">{{row.id}}</div>
      <!--<div class="col-md-1">{{row.wbscode}}</div>-->
      <inline-editor class="col-md-1" type="text" [(ngModel)]="row.wbscode" (onSave)="saveEditable($event)" name="editableText1" size="8" min="2" max="20" [fnErrorLength]="fnErrorLength"></inline-editor>
      <inline-editor class="col-md-4" type="text" [(ngModel)]="row.description" (onSave)="saveEditable($event)" name="editableText1" size="8" min="3" max="20" [fnErrorLength]="fnErrorLength"></inline-editor>
      <!--<span>{{row.description}}</span>-->
      <inline-editor class="col-md-1" type="number" [(ngModel)]="row.pv" (change)="recalcValues(row)" (onSave)="saveEditable($event)" name="editableText1" size="100" min="0" max="100" [fnErrorLength]="fnErrorLength"></inline-editor>
      <!--<div class="col-md-1">{{row.pv}}</div>-->
      <inline-editor class="col-md-1" type="number" [(ngModel)]="row.progress" (change)="recalcValues(row)" (onSave)="saveEditable($event)" name="editableText1" size="100" min="0" max="100" [fnErrorLength]="fnErrorLength"></inline-editor>
      <!--<div class="col-md-1">{{row.progress}}</div>-->
      <!--<div class="col-md-1" [(ngModel)]="row.ev">{{row.ev | number: '1.0-1'}}</div>-->
      <!--<inline-editor class="col-md-1" type="number" [(ngModel)]="row.ev" disabled="true" (onSave)="saveEditable($event)" name="editableText1" size="100" min="0" max="100" [fnErrorLength]="fnErrorLength"></inline-editor>-->
      <div class="col-md-1" [innerText]="row.ev | number: '1.0-1'"></div>
      <div class="col-md-1" [innerText]="row.ac | number: '1.0-1'"></div>
      <div class="col-md-1" [innerText]="row.cv | number: '1.0-1'"></div>
    </div>
    <!--<button class="delete" (click)="delete(row); $event.stopPropagation()">x</button>-->
  </li>
  <li class="list-group-item title">
    <div class="col-md-4">TOTAL:</div>
    <div class="col-md-1"></div>
    <div class="col-md-1"></div>
    <div class="col-md-1"></div>
    <div class="col-md-1"></div>
    <div class="col-md-1"></div>
    <div class="col-md-1">{{totalEV | number: '1.0-1'}}</div>
    <div class="col-md-1">{{totalAC | number: '1.0-1'}}</div>
    <div class="col-md-1">{{totalCV | number: '1.0-1'}}</div>
  </li>
</ul>
<!--<ul>
  <li *ngFor="let prog of progress">
    <div>{{prog.id}} - {{prog.progress}}</div>
  </li>
</ul>-->
<div *ngIf="selectedRow">
  <h2>
    {{selectedRow.wbscode | uppercase}} is my Selected Row!!
  </h2>
  <!--<button (click)="gotoDetail()">View Details</button>-->
</div>
